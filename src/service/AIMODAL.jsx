import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


 export  const chatSession = model.startChat({
        generationConfig,
        history: [
            {
                role: "user",
                parts: [
                    { text: "Generate a travel plan for a couple visiting Las Vegas for 3 days with a budget-friendly focus. Provide a list of hotel options including HotelName, HotelAddress, Price, HotelImageUrl, GeoCoordinates, Rating, and Description. Also, suggest a 3-day itinerary with details such as PlaceName, PlaceDetails, PlaceImageUrl, GeoCoordinates, TicketPricing, Rating, TimeTravelEachLocation, and BestTimeToVisit for each location. Present the information in JSON format.\n" },
                ],
            },
            {
                role: "model",
                parts: [
                    { text: "```json\n{\n  \"travelPlan\": {\n    \"destination\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Budget-Friendly\",\n    \"travelers\": \"Couple\",\n    \"hotelOptions\": [\n      {\n        \"HotelName\": \"Circus Circus Hotel & Casino\",\n        \"HotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$40 - $80/night\",\n        \"HotelImageUrl\": \"https://www.circuscircus.com/wp-content/uploads/2023/09/circus-circus-hotel-room-2.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.1261,\n          \"longitude\": -115.1668\n        },\n        \"Rating\": 3.5,\n        \"Description\": \"Features the Adventuredome Theme Park and Circus acts. Offers affordable rooms and family-friendly entertainment.\"\n      },\n      {\n        \"HotelName\": \"Excalibur Hotel & Casino\",\n        \"HotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$50 - $90/night\",\n        \"HotelImageUrl\": \"https://www.excalibur.com/content/dam/excalibur/property/exterior/excalibur-exterior-main.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.0986,\n          \"longitude\": -115.1747\n        },\n        \"Rating\": 4.0,\n        \"Description\": \"A medieval-themed hotel with budget-friendly options, multiple restaurants, and shows.\"\n      },\n      {\n        \"HotelName\": \"Luxor Hotel & Casino\",\n        \"HotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n        \"Price\": \"$60 - $100/night\",\n        \"HotelImageUrl\": \"https://www.luxor.com/content/dam/luxor/property/exterior/luxor-exterior-001-001.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.0955,\n          \"longitude\": -115.1757\n        },\n        \"Rating\": 4.0,\n        \"Description\": \"An Egyptian-themed hotel with a distinctive pyramid shape. Offers affordable rooms and various entertainment options.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"activities\": [\n          {\n            \"PlaceName\": \"Welcome to Las Vegas Sign\",\n            \"PlaceDetails\": \"Iconic photo opportunity. A must-see for any first-time visitor.\",\n            \"PlaceImageUrl\": \"https://www.lasvegasnevada.gov/Portals/0/EasyDNNnews/11/img-1453-600.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.0475,\n              \"longitude\": -115.1726\n            },\n            \"TicketPricing\": \"Free\",\n            \"Rating\": 4.5,\n            \"TimeTravelEachLocation\": \"30 minutes\",\n            \"BestTimeToVisit\": \"Early morning to avoid crowds\"\n          },\n          {\n            \"PlaceName\": \"Fremont Street Experience\",\n            \"PlaceDetails\": \"Downtown Las Vegas entertainment district with Viva Vision light show, free concerts, and street performers.\",\n            \"PlaceImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/03/FSE-03742-scaled.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.1703,\n              \"longitude\": -115.1425\n            },\n            \"TicketPricing\": \"Free (some attractions may have fees)\",\n            \"Rating\": 4.6,\n            \"TimeTravelEachLocation\": \"3 hours\",\n            \"BestTimeToVisit\": \"Evening for the Viva Vision light show (starts at dusk)\"\n          },\n          {\n            \"PlaceName\": \"SlotZilla Zip Line\",\n            \"PlaceDetails\": \"Located on Fremont Street, this zip line offers two levels of thrilling rides above the crowds.\",\n            \"PlaceImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2015/08/FSE-SlotZilla-Photo-for-Website-001.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.1702,\n              \"longitude\": -115.1418\n            },\n            \"TicketPricing\": \"$29-$49\",\n            \"Rating\": 4.3,\n            \"TimeTravelEachLocation\": \"1 hour\",\n            \"BestTimeToVisit\": \"Evening\"\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"activities\": [\n          {\n            \"PlaceName\": \"The LINQ Promenade & High Roller Observation Wheel\",\n            \"PlaceDetails\": \"Outdoor shopping, dining, and entertainment district with the High Roller Observation Wheel.\",\n            \"PlaceImageUrl\": \"https://www.caesars.com/content/dam/linq/things-to-do/high-roller/overview/the-linq-high-roller-ext-002.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.1164,\n              \"longitude\": -115.1691\n            },\n            \"TicketPricing\": \"High Roller: $25 - $37 (depending on time of day)\",\n            \"Rating\": 4.4,\n            \"TimeTravelEachLocation\": \"3 hours\",\n            \"BestTimeToVisit\": \"Evening for the best views from the High Roller (consider happy hour discounts).\"\n          },\n          {\n            \"PlaceName\": \"Bellagio Conservatory & Botanical Garden\",\n            \"PlaceDetails\": \"Beautiful floral displays that change seasonally. Free to visit.\",\n            \"PlaceImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/amenities/conservatory-and-botanical-garden/bellagio-conservatory-garden-overview.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.1126,\n              \"longitude\": -115.1742\n            },\n            \"TicketPricing\": \"Free\",\n            \"Rating\": 4.7,\n            \"TimeTravelEachLocation\": \"1 hour\",\n            \"BestTimeToVisit\": \"Weekdays to avoid crowds\"\n          },\n          {\n            \"PlaceName\": \"Bellagio Fountains\",\n            \"PlaceDetails\": \"Spectacular water show synchronized to music and lights. Free to watch.\",\n            \"PlaceImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/amenities/fountains-of-bellagio/fountains-of-bellagio-overview.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.1128,\n              \"longitude\": -115.1739\n            },\n            \"TicketPricing\": \"Free\",\n            \"Rating\": 4.8,\n            \"TimeTravelEachLocation\": \"30 minutes\",\n            \"BestTimeToVisit\": \"Evening (shows run frequently)\"\n          }\n        ]\n      },\n      {\n        \"day\": 3,\n        \"activities\": [\n          {\n            \"PlaceName\": \"Ethel M Chocolate Factory & Cactus Garden\",\n            \"PlaceDetails\": \"Free chocolate factory tour and a large cactus garden to explore. Located outside the main strip (consider ride-sharing or bus).\",\n            \"PlaceImageUrl\": \"https://www.ethelm.com/wp-content/uploads/2022/10/EthelM-Exterior_001.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.0362,\n              \"longitude\": -115.0542\n            },\n            \"TicketPricing\": \"Free\",\n            \"Rating\": 4.5,\n            \"TimeTravelEachLocation\": \"3 hours\",\n            \"BestTimeToVisit\": \"Morning to avoid the heat in the cactus garden\"\n          },\n          {\n            \"PlaceName\": \"Red Rock Canyon National Conservation Area\",\n            \"PlaceDetails\": \"Scenic drive and hiking trails showcasing the beauty of the Nevada desert. Entrance fee required.\",\n            \"PlaceImageUrl\": \"https://www.blm.gov/sites/default/files/styles/max_1300x1300/public/images/gallery/Red_Rock_Canyon_National_Conservation_Area.jpg?itok=Xl5i5V_f\",\n            \"GeoCoordinates\": {\n              \"latitude\": 36.1353,\n              \"longitude\": -115.4144\n            },\n            \"TicketPricing\": \"$15 per vehicle\",\n            \"Rating\": 4.7,\n            \"TimeTravelEachLocation\": \"4 hours\",\n            \"BestTimeToVisit\": \"Early morning or late afternoon (especially in summer to avoid the heat). Closed-toe shoes are recommended.\"\n          },\n          {\n            \"PlaceName\": \"Seven Magic Mountains\",\n            \"PlaceDetails\": \"Public art installation featuring colorful stacked boulders. Located south of Las Vegas (requires transportation).\",\n            \"PlaceImageUrl\": \"https://sevenmagicmountains.com/wp-content/uploads/2021/02/IMG_7685-scaled.jpg\",\n            \"GeoCoordinates\": {\n              \"latitude\": 35.9680,\n              \"longitude\": -115.2394\n            },\n            \"TicketPricing\": \"Free\",\n            \"Rating\": 4.3,\n            \"TimeTravelEachLocation\": \"1.5 hours\",\n            \"BestTimeToVisit\": \"Anytime, but be aware of the heat, especially during summer.\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```" },
                ],
            },
        ],
    });



